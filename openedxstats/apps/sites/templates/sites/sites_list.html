{% extends "base.html" %}

{% block title %} Open edX Sites List {% endblock %}
{% block bootstrap3_extra_head %}
    <style type="text/css">
        .action-button-cell {
            padding-left: 2px;
            padding-right: 2px;
        }
    </style>
    <script>
        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });
    </script>
{% endblock %}
{% block content %}
    <!-- Navbar -->
    {% include "navbar.html" %}
    <!-- Content -->
    <div class="container">
        <table class="table table-bordered table-responsive table-sm">
            <thead>
            <tr>
                <th>Site Type</th>
                <th>Name</th>
                <th>Url</th>
                <th>Course Count</th>
                <th>Last Checked</th>
                <th>Current Version?</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody class="table table-bordered table-bordered table-sm">
            <tr>
                {% for site in sites_list %}
                    <tr>
                        <td style="vertical-align: middle;">{{ site.site_type }}</td>
                        <td style="vertical-align: middle;">{{ site.name }}</td>
                        <td style="vertical-align: middle;"><a href="{{ site.url }}"> {{ site.url }}</a></td>
                        <td style="vertical-align: middle;">{{ site.course_count }}</td>
                        <td style="vertical-align: middle;">{{ site.last_checked }}</td>
                        <td style="vertical-align: middle; width: 1%; text-align: center">
                            {% if site.active_end_date == None %}
                                <span class="glyphicon glyphicon-ok" aria-hidden="true"
                                      style="color: green; font-size: 30px;"></span>
                            {% endif %}
                        </td>
                        <td style="width: 1%; vertical-align: middle;">
                            <table>
                                <tr>
                                    <td class="action-button-cell">
                                        <a href="/sites/site_detail/{{ site.pk }}">
                                            <button type="button" class="btn btn-primary" aria-label="Detail"
                                                    data-toggle="tooltip" data-placement="bottom" title="Detail">
                                                <span class="glyphicon glyphicon-list" aria-hidden="true"></span>
                                            </button>
                                        </a>
                                    </td>
                                    <td class="action-button-cell">
                                        <button type="button" class="btn btn-primary" aria-label="Edit"
                                                data-toggle="tooltip" data-placement="bottom" title="Edit">
                                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                        </button>
                                    </td>
                                    <td class="action-button-cell">
                                        <button type="button" class="btn btn-danger" aria-label="Delete"
                                                data-toggle="tooltip" data-placement="bottom" title="Delete">
                                            <span class="glyphicon glyphicon-trash"></span>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
